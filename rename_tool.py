import os

# ================= 1. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸•à¸£à¸‡à¸™à¸µà¹‰ =================
# à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸—à¸µà¹ˆà¹€à¸à¹‡à¸šà¸„à¸¥à¸´à¸›à¸”à¸´à¸šà¸‚à¸­à¸‡à¸„à¸¸à¸“ (à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ path à¹ƒà¸«à¹‰à¸–à¸¹à¸à¸™à¸°)
TARGET_FOLDER = r"data/raw/feverish" 

# à¸Šà¸·à¹ˆà¸­à¹ƒà¸«à¸¡à¹ˆà¸—à¸µà¹ˆà¸­à¸¢à¸²à¸à¸•à¸±à¹‰à¸‡ (à¹€à¸Šà¹ˆà¸™ 'fever' à¸ˆà¸°à¸à¸¥à¸²à¸¢à¹€à¸›à¹‡à¸™ fever_0.mp4)
NEW_NAME_PREFIX = "feverish" 

# à¸­à¸¢à¸²à¸à¹ƒà¸«à¹‰à¹€à¸£à¸´à¹ˆà¸¡à¸™à¸±à¸šà¹€à¸¥à¸‚à¸—à¸µà¹ˆà¹€à¸—à¹ˆà¸²à¹„à¸«à¸£à¹ˆ? (à¸›à¸à¸•à¸´à¹€à¸£à¸´à¹ˆà¸¡ 0)
START_INDEX = 0 
# =================================================

def rename_all_files():
    # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸¡à¸µà¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¹„à¸«à¸¡
    if not os.path.exists(TARGET_FOLDER):
        print(f"âŒ à¸«à¸²à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¹„à¸¡à¹ˆà¹€à¸ˆà¸­: {TARGET_FOLDER}")
        return

    # à¸”à¸¶à¸‡à¸Šà¸·à¹ˆà¸­à¹„à¸Ÿà¸¥à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸¡à¸²
    files = [f for f in os.listdir(TARGET_FOLDER) if os.path.isfile(os.path.join(TARGET_FOLDER, f))]
    
    # (à¸ªà¸³à¸„à¸±à¸) à¹€à¸£à¸µà¸¢à¸‡à¸¥à¸³à¸”à¸±à¸šà¸Šà¸·à¹ˆà¸­à¹€à¸”à¸´à¸¡à¸à¹ˆà¸­à¸™ à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­à¹€à¸›à¹‡à¸™à¹„à¸›à¸•à¸²à¸¡à¸¥à¸³à¸”à¸±à¸š (à¹„à¸¡à¹ˆà¸ªà¸¸à¹ˆà¸¡)
    files.sort()

    print(f"ðŸ“‚ à¸žà¸šà¹„à¸Ÿà¸¥à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” {len(files)} à¹„à¸Ÿà¸¥à¹Œ à¹ƒà¸™: {TARGET_FOLDER}")
    print("à¸à¸³à¸¥à¸±à¸‡à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­...")

    count = 0
    for i, old_filename in enumerate(files):
        # à¹à¸¢à¸à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥à¹„à¸Ÿà¸¥à¹Œ (.mp4, .avi) à¸­à¸­à¸à¸¡à¸²
        _, extension = os.path.splitext(old_filename)
        
        # à¸–à¹‰à¸²à¹„à¸Ÿà¸¥à¹Œà¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆ video (à¹€à¸Šà¹ˆà¸™ .txt, .py) à¹ƒà¸«à¹‰à¸‚à¹‰à¸²à¸¡ (à¸à¸±à¸™à¹„à¸§à¹‰à¸à¹ˆà¸­à¸™)
        if extension.lower() not in ['.mp4', '.avi', '.mov', '.mkv']:
            continue

        # à¸ªà¸£à¹‰à¸²à¸‡à¸Šà¸·à¹ˆà¸­à¹ƒà¸«à¸¡à¹ˆ
        new_filename = f"{NEW_NAME_PREFIX}_{START_INDEX + i}{extension}"
        
        # Path à¹€à¸•à¹‡à¸¡à¸‚à¸­à¸‡à¹„à¸Ÿà¸¥à¹Œà¹€à¸à¹ˆà¸²à¹à¸¥à¸°à¹ƒà¸«à¸¡à¹ˆ
        old_path = os.path.join(TARGET_FOLDER, old_filename)
        new_path = os.path.join(TARGET_FOLDER, new_filename)

        # à¸ªà¸±à¹ˆà¸‡à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­
        os.rename(old_path, new_path)
        print(f"  âœ… {old_filename} -> {new_filename}")
        count += 1

    print(f"\nðŸŽ‰ à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢! à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­à¹„à¸›à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” {count} à¹„à¸Ÿà¸¥à¹Œ")

if __name__ == "__main__":
    rename_all_files()